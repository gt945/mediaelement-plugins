!function t(e,n,i){function s(a,l){if(!n[a]){if(!e[a]){var r="function"==typeof require&&require;if(!l&&r)return r(a,!0);if(o)return o(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var m=n[a]={exports:{}};e[a][0].call(m.exports,function(t){var n=e[a][1][t];return s(n||t)},m,m.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(t,e,n){"use strict";mejs.i18n.en["mejs.thumbnailseek"]="ThumbnailSeek",Object.assign(mejs.MepDefaults,{thumbnailseekText:null,interval:1,imgwidth:120,intervalOptions:[5,10,30,60,120]}),Object.assign(MediaElementPlayer.prototype,{buildthumbnailseek:function(t,e,n,i){var s=this,o=mejs.Utils.isString(s.options.thumbnailseekText)?s.options.thumbnailseekText:mejs.i18n.t("mejs.thumbnailseek"),a=document.createElement("div"),l=t.thumbnailseek={};l.thumbs=[];var r=l.thumbnailBox=document.createElement("div");r.className=s.options.classPrefix+"thumbnails-box ",r.style.display="none";var p=l.thumbnailItems=document.createElement("div");p.className=s.options.classPrefix+"thumbnails-items",r.appendChild(p);var m=l.thumbnailOptions=document.createElement("div");m.className=s.options.classPrefix+"thumbnails-options";var u=l.intervalD=document.createElement("div");u.innerHTML="-",u.addEventListener("click",function(){s.options.interval>0&&(s.options.interval--,d.innerHTML=s.options.intervalOptions[s.options.interval],l.update(!0))});var d=l.intervalV=document.createElement("div");d.innerHTML=s.options.intervalOptions[s.options.interval];var h=l.intervalI=document.createElement("div");h.addEventListener("click",function(){s.options.interval<s.options.intervalOptions.length-1&&(s.options.interval++,d.innerHTML=s.options.intervalOptions[s.options.interval],l.update(!0))}),h.innerHTML="+",m.appendChild(u),m.appendChild(d),m.appendChild(h),r.appendChild(m),e.insertBefore(r,e.querySelector("."+s.options.classPrefix+"progress")),a.className=s.options.classPrefix+"button "+s.options.classPrefix+"thumbnailseek-button "+s.options.classPrefix+"thumbnailseek",a.innerHTML='<button type="button" aria-controls="'+s.id+'" title="'+o+'" aria-label="'+o+'" tabindex="0"></button>',s.addControlElement(a,"thumbnailseek"),t.container.offsetWidth<t.container.offsetHeight||t.container.offsetHeight<720?s.options.imgwidth=120:s.options.imgwidth=240,(l.hammer=new Hammer(l.thumbnailItems,{direction:Hammer.DIRECTION_HORIZONTAL})).on("panstart panend pancancel panleft panright tap",function(e){switch(e.type){case"panstart":l.thumbnailX=p.offsetLeft;break;case"panleft":case"panright":if(0!==e.center.x||0!==e.center.y){var n=l.thumbnailX+e.deltaX;p.style.left=n+"px",l.addjustOffset(null,function(t){l.thumbnailX+=t})}break;case"tap":var i=parseInt((e.center.x-p.offsetLeft)/s.options.imgwidth);i in l.thumbs&&(l.thumbnailBox.style.display="none",t.setCurrentTime(l.thumbs[i].time),t.play(),t.options.alwaysShowControls||t.controlsAreVisible&&t.startControlsTimer(s.options.controlsTimeoutMouseEnter))}}),l.addjustOffset=function(t,e){var n=parseInt(p.style.left),i=p.parentElement.offsetWidth,o=p.offsetWidth,a=l.thumbs,r=a[0].time,m=a[a.length-1].time;(a.length+1)*s.options.imgwidth>o&&(n+o<o/2?(p.removeChild(a[0].item),a.shift(),p.style.left=parseInt(p.style.left)+s.options.imgwidth+"px",e&&e(s.options.imgwidth)):(p.removeChild(a[a.length-1].item),a.pop())),a.length*s.options.imgwidth+n<2*i?l.addRight(m+s.options.intervalOptions[s.options.interval],function(){t&&t()}):n+2*i>0&&l.addLeft(r-s.options.intervalOptions[s.options.interval],function(){p.style.left=parseInt(p.style.left)-s.options.imgwidth+"px",e&&e(-s.options.imgwidth),t&&t()})},l.createItem=function(e,n){var i=t.node.thumbnail(e);if(i&&e>=0&&e<=t.getDuration()){var o=document.createElement("span"),a=document.createElement("img");a.setAttribute("width",s.options.imgwidth+"px"),a.setAttribute("src",i),a.onload=function(){0==r.style.height&&(p.style.height=a.height+2+"px",r.style.height=a.height+62+"px")},a.onmousedown=function(t){t.preventDefault&&t.preventDefault()},o.appendChild(a),n(o)}},l.addRight=function(t,e){l.createItem(t,function(n){p.appendChild(n),l.thumbs.push({time:t,item:n}),e&&e()})},l.addLeft=function(t,e){l.createItem(t,function(n){p.insertBefore(n,p.firstChild),l.thumbs.unshift({time:t,item:n}),e&&e()})},l.update=function(e){var n=p.parentElement.offsetWidth;t.pause(),t.showControls();var i=parseInt(t.getCurrentTime()),o=function t(){l.addjustOffset(t,null)},a=function(){for(l.thumbs=[];p.firstChild;)p.removeChild(p.firstChild);p.style.left=(n-s.options.imgwidth)/2+"px",l.addRight(i,o)};if(e){var r=parseInt((0-p.offsetLeft+n/2)/s.options.imgwidth),m=r*s.options.imgwidth+p.offsetLeft-(n-s.options.imgwidth)/2;i=l.thumbs[r].time,a(),p.style.left=p.offsetLeft+m+"px"}else if(l.thumbs.length&&i>=l.thumbs[0].time&&i<=l.thumbs[l.thumbs.length-1].time){var u=i-l.thumbs[0].time;p.style.left=(n-s.options.imgwidth)/2-parseInt(u/s.options.intervalOptions[s.options.interval])*s.options.imgwidth+"px",l.addjustOffset(o,null)}else a()},a.addEventListener("click",function(){"block"==l.thumbnailBox.style.display?(l.thumbnailBox.style.display="none",t.play()):(l.thumbnailBox.style.display="block",l.update())}),i.addEventListener("play",function(){"block"==l.thumbnailBox.style.display&&l.update()}),i.addEventListener("seeked",function(){"block"==l.thumbnailBox.style.display&&l.update()})}})},{}]},{},[1]);
