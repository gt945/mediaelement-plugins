!function t(e,n,i){function o(a,l){if(!n[a]){if(!e[a]){var r="function"==typeof require&&require;if(!l&&r)return r(a,!0);if(s)return s(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var m=n[a]={exports:{}};e[a][0].call(m.exports,function(t){var n=e[a][1][t];return o(n||t)},m,m.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){"use strict";mejs.i18n.en["mejs.thumbnailseek"]="ThumbnailSeek",Object.assign(mejs.MepDefaults,{thumbnailseekText:null,interval:1,imgwidth:120,intervalOptions:[5,10,30,60,120]}),Object.assign(MediaElementPlayer.prototype,{buildthumbnailseek:function(t,e,n,i){var o=this,s=mejs.Utils.isString(o.options.thumbnailseekText)?o.options.thumbnailseekText:mejs.i18n.t("mejs.thumbnailseek"),a=document.createElement("div"),l=t.thumbnailseek={};l.thumbs=[];var r=l.thumbnailBox=document.createElement("div");r.className=o.options.classPrefix+"thumbnails-box ",r.style.display="none";var p=l.thumbnailItems=document.createElement("div");p.className=o.options.classPrefix+"thumbnails-items",r.appendChild(p);var m=l.thumbnailOptions=document.createElement("div");m.className=o.options.classPrefix+"thumbnails-options";var u=l.intervalD=document.createElement("button");u.className=o.options.classPrefix+"button ",u.innerHTML="-",u.addEventListener("click",function(){o.options.interval>0&&(o.options.interval--,d.innerHTML=o.options.intervalOptions[o.options.interval],l.update(!0))});var d=l.intervalV=document.createElement("div");d.innerHTML=o.options.intervalOptions[o.options.interval];var h=l.intervalI=document.createElement("button");h.className=o.options.classPrefix+"button ",h.innerHTML="+",h.addEventListener("click",function(){o.options.interval<o.options.intervalOptions.length-1&&(o.options.interval++,d.innerHTML=o.options.intervalOptions[o.options.interval],l.update(!0))}),m.appendChild(u),m.appendChild(d),m.appendChild(h),r.appendChild(m),e.insertBefore(r,e.querySelector("."+o.options.classPrefix+"progress")),a.className=o.options.classPrefix+"button "+o.options.classPrefix+"thumbnailseek-button "+o.options.classPrefix+"thumbnailseek",a.innerHTML='<button type="button" aria-controls="'+o.id+'" title="'+s+'" aria-label="'+s+'" tabindex="0"></button>',o.addControlElement(a,"thumbnailseek"),t.container.offsetWidth<t.container.offsetHeight||t.container.offsetHeight<720?o.options.imgwidth=120:o.options.imgwidth=240,(l.hammer=new Hammer(l.thumbnailItems,{direction:Hammer.DIRECTION_HORIZONTAL})).on("panstart panend pancancel panleft panright tap",function(e){switch(e.type){case"panstart":l.thumbnailX=p.offsetLeft;break;case"panleft":case"panright":if(0!==e.center.x||0!==e.center.y){var n=l.thumbnailX+e.deltaX;p.style.left=n+"px",l.addjustOffset(null,function(t){l.thumbnailX+=t})}break;case"tap":var i=parseInt((e.center.x-p.offsetLeft)/o.options.imgwidth);i in l.thumbs&&(l.thumbnailBox.style.display="none",t.setCurrentTime(l.thumbs[i].time),t.play(),t.options.alwaysShowControls||t.controlsAreVisible&&t.startControlsTimer(o.options.controlsTimeoutMouseEnter))}}),l.addjustOffset=function(t,e){var n=parseInt(p.style.left),i=p.parentElement.offsetWidth,s=p.offsetWidth,a=l.thumbs,r=a[0].time,m=a[a.length-1].time;(a.length+1)*o.options.imgwidth>s&&(n+s<s/2?(p.removeChild(a[0].item),a.shift(),p.style.left=parseInt(p.style.left)+o.options.imgwidth+"px",e&&e(o.options.imgwidth)):(p.removeChild(a[a.length-1].item),a.pop())),a.length*o.options.imgwidth+n<2*i?l.addRight(m+o.options.intervalOptions[o.options.interval],function(){t&&t()}):n+2*i>0&&l.addLeft(r-o.options.intervalOptions[o.options.interval],function(){p.style.left=parseInt(p.style.left)-o.options.imgwidth+"px",e&&e(-o.options.imgwidth),t&&t()})},l.createItem=function(e,n){var i=o.options.thumbnailCmd(e);if(i&&e>=0&&e<=t.getDuration()){var s=document.createElement("span"),a=document.createElement("img");a.setAttribute("width",o.options.imgwidth+"px"),a.setAttribute("src",i),a.onload=function(){0==r.style.height&&(p.style.height=a.height+22+"px",r.style.height=a.height+102+"px")},a.onmousedown=function(t){t.preventDefault&&t.preventDefault()},s.appendChild(a);var l=document.createElement("div");l.innerHTML=mejs.Utils.secondsToTimeCode(e,!0,t.options.showTimecodeFrameCount,t.options.framesPerSecond),s.appendChild(l),n(s)}},l.addRight=function(t,e){l.createItem(t,function(n){p.appendChild(n),l.thumbs.push({time:t,item:n}),e&&e()})},l.addLeft=function(t,e){l.createItem(t,function(n){p.insertBefore(n,p.firstChild),l.thumbs.unshift({time:t,item:n}),e&&e()})},l.update=function(e){var n=p.parentElement.offsetWidth;t.pause(),t.showControls();var i=parseInt(t.getCurrentTime()),s=function t(){l.addjustOffset(t,null)},a=function(){for(l.thumbs=[];p.firstChild;)p.removeChild(p.firstChild);p.style.left=(n-o.options.imgwidth)/2+"px",l.addRight(i,s)};if(e){var r=parseInt((0-p.offsetLeft+n/2)/o.options.imgwidth),m=r*o.options.imgwidth+p.offsetLeft-(n-o.options.imgwidth)/2;i=l.thumbs[r].time,a(),p.style.left=p.offsetLeft+m+"px"}else if(l.thumbs.length&&i>=l.thumbs[0].time&&i<=l.thumbs[l.thumbs.length-1].time){var u=i-l.thumbs[0].time;p.style.left=(n-o.options.imgwidth)/2-parseInt(u/o.options.intervalOptions[o.options.interval])*o.options.imgwidth+"px",l.addjustOffset(s,null)}else a()},a.addEventListener("click",function(){"block"==l.thumbnailBox.style.display?(l.thumbnailBox.style.display="none",t.play()):(l.thumbnailBox.style.display="block",l.update())}),i.addEventListener("play",function(){"block"==l.thumbnailBox.style.display&&l.update()}),i.addEventListener("seeked",function(){"block"==l.thumbnailBox.style.display&&l.update()})}})},{}]},{},[1]);
