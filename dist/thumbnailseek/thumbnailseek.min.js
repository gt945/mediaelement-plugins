!function t(e,i,n){function s(a,l){if(!i[a]){if(!e[a]){var r="function"==typeof require&&require;if(!l&&r)return r(a,!0);if(o)return o(a,!0);var m=new Error("Cannot find module '"+a+"'");throw m.code="MODULE_NOT_FOUND",m}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return s(i||t)},u,u.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,e,i){"use strict";mejs.i18n.en["mejs.thumbnailseek"]="ThumbnailSeek",Object.assign(mejs.MepDefaults,{thumbnailseekText:null,interval:10,imgwidth:120}),Object.assign(MediaElementPlayer.prototype,{buildthumbnailseek:function(t,e,i,n){var s=this,o=mejs.Utils.isString(s.options.thumbnailseekText)?s.options.thumbnailseekText:mejs.i18n.t("mejs.thumbnailseek"),a=document.createElement("div"),l=t.thumbnailseek={};l.thumbs=[];var r=l.thumbnailBox=document.createElement("div");r.className=s.options.classPrefix+"thumbnails-box ",r.style.display="none";var m=l.thumbnailItems=document.createElement("div");m.className=s.options.classPrefix+"thumbnails-items",r.append(l.thumbnailItems),e.insertBefore(r,e.querySelector("."+s.options.classPrefix+"progress")),a.className=s.options.classPrefix+"button "+s.options.classPrefix+"thumbnailseek-button "+s.options.classPrefix+"thumbnailseek",a.innerHTML='<button type="button" aria-controls="'+s.id+'" title="'+o+'" aria-label="'+o+'" tabindex="0"></button>',s.addControlElement(a,"thumbnailseek"),t.container.offsetWidth<t.container.offsetHeight||t.container.offsetHeight<720?s.options.imgwidth=120:s.options.imgwidth=240,(l.hammer=new Hammer(l.thumbnailBox,{direction:Hammer.DIRECTION_HORIZONTAL})).on("panstart panend pancancel panleft panright tap",function(e){switch(e.type){case"panstart":l.thumbnailX=m.offsetLeft;break;case"panleft":case"panright":if(0!==e.center.x||0!==e.center.y){var i=l.thumbnailX+e.deltaX;m.style.left=i+"px",l.addjustOffset(null,function(t){l.thumbnailX+=t})}break;case"tap":var n=parseInt((e.center.x-m.offsetLeft)/s.options.imgwidth);n in l.thumbs&&(l.thumbnailBox.style.display="none",t.setCurrentTime(l.thumbs[n].time),t.play(),t.options.alwaysShowControls||t.controlsAreVisible&&t.startControlsTimer(s.options.controlsTimeoutMouseEnter))}}),l.addjustOffset=function(t,e){var i=parseInt(m.style.left),n=m.parentElement.offsetWidth,o=m.offsetWidth,a=l.thumbs,r=a[0].time,u=a[a.length-1].time;(a.length+1)*s.options.imgwidth>o&&(i+o<o/2?(m.removeChild(a[0].item),a.shift(),m.style.left=parseInt(m.style.left)+s.options.imgwidth+"px",e&&e(s.options.imgwidth)):(m.removeChild(a[a.length-1].item),a.pop())),a.length*s.options.imgwidth+i<2*n?l.addRight(u+s.options.interval,function(){t&&t()}):i+2*n>0&&l.addLeft(r-s.options.interval,function(){m.style.left=parseInt(m.style.left)-s.options.imgwidth+"px",e&&e(-s.options.imgwidth),t&&t()})},l.createItem=function(e,i){var n=t.node.thumbnail(e);if(n&&e>=0&&e<=t.getDuration()){var o=document.createElement("span"),a=document.createElement("img");a.setAttribute("width",s.options.imgwidth+"px"),a.setAttribute("src",n),a.onload=function(){0==r.style.height&&(r.style.height=a.height+"px")},o.append(a),i(o)}},l.addRight=function(t,e){l.createItem(t,function(i){m.append(i),l.thumbs.push({time:t,item:i}),e&&e()})},l.addLeft=function(t,e){l.createItem(t,function(i){m.insertBefore(i,m.firstChild),l.thumbs.unshift({time:t,item:i}),e&&e()})},l.update=function(){t.pause(),t.showControls();var e=parseInt(t.getCurrentTime()),i=function t(){l.addjustOffset(t)};if(l.thumbs.length&&e>=l.thumbs[0].time&&e<=l.thumbs[l.thumbs.length-1].time){var n=e-l.thumbs[0].time;m.style.left=-parseInt(n/s.options.interval)*s.options.imgwidth+"px",l.addjustOffset(i)}else{for(l.thumbs=[];m.firstChild;)m.removeChild(m.firstChild);m.style.left="0px",l.addRight(e,i)}},a.addEventListener("click",function(){"block"==l.thumbnailBox.style.display?(l.thumbnailBox.style.display="none",t.play()):(l.thumbnailBox.style.display="block",l.update())}),n.addEventListener("play",function(){"block"==l.thumbnailBox.style.display&&l.update()}),n.addEventListener("seeked",function(){"block"==l.thumbnailBox.style.display&&l.update()})}})},{}]},{},[1]);
